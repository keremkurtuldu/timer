<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Vue 3 Countdown Timer</title>
        <script src="https://unpkg.com/vue@3"></script>
        <style>
            body {
                display: flex;
                justify-content: center;
                align-items: center;
                height: 100vh;
                margin: 0;
                background-color: #f9f9f9;
                font-family: Arial, sans-serif;
            }

            #app {
                display: flex;
                flex-direction: column;
                align-items: center;
                width: 400px;
                padding: 20px;
                border: 1px solid #ddd;
                border-radius: 8px;
                background-color: #fff;
                box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
                text-align: center;
            }

            .tabs {
                display: flex;
                gap: 10px;
                margin-bottom: 20px;
                justify-content: center;
            }

            .tab {
                cursor: pointer;
                padding: 10px;
                border: 1px solid #ccc;
                background-color: #f1f1f1;
                border-radius: 4px;
                transition: background-color 0.3s;
            }

            .tab.active {
                background-color: #ccc;
            }

            button {
                margin: 5px;
                padding: 8px 16px;
                border: none;
                border-radius: 4px;
                background-color: #007bff;
                color: white;
                cursor: pointer;
                transition: background-color 0.3s;
            }

            button:disabled {
                background-color: #aaa;
                cursor: not-allowed;
            }

            button:hover:not(:disabled) {
                background-color: #0056b3;
            }
        </style>
    </head>
    <body>
        <div id="app">
            <div class="tabs">
                <div
                    :class="{ active: activeTab === 'pomodoro' }"
                    @click="activeTab = 'pomodoro'"
                >
                    Pomodoro
                </div>
                <div
                    :class="{ active: activeTab === 'shortBreak' }"
                    @click="activeTab = 'shortBreak'"
                >
                    Short Break
                </div>
                <div
                    :class="{ active: activeTab === 'custom' }"
                    @click="activeTab = 'custom'"
                >
                    Custom Timer
                </div>
            </div>

            <component :is="currentComponent" />
        </div>

        <script>
            const PomodoroTimer = {
                template: `
        <div>
          <p>{{ timerDisplay }}</p>
          <div v-if="state === 'initial'">
            <button @click="startPomodoro">Start</button>
          </div>
          <div v-if="state === 'running' || state === 'paused'">
            <button v-if="state === 'running'" @click="pauseCountdown">Pause</button>
            <button v-if="state === 'paused'" @click="continueCountdown">Continue</button>
            <button @click="stopCountdown">Stop</button>
          </div>
        </div>
      `,
                data() {
                    return {
                        time: 25 * 60,
                        state: "initial",
                        interval: null,
                    };
                },
                computed: {
                    timerDisplay() {
                        const minutes = Math.floor(this.time / 60);
                        const seconds = this.time % 60;
                        return `${minutes}m ${seconds}s`;
                    },
                },
                methods: {
                    startPomodoro() {
                        clearInterval(this.interval);
                        this.state = "running";
                        this.interval = setInterval(() => {
                            if (this.time <= 0) {
                                clearInterval(this.interval);
                                this.state = "initial";
                                alert("Time's up!");
                            } else {
                                this.time--;
                            }
                        }, 1000);
                    },
                    pauseCountdown() {
                        clearInterval(this.interval);
                        this.state = "paused";
                    },
                    continueCountdown() {
                        this.state = "running";
                        this.startPomodoro();
                    },
                    stopCountdown() {
                        clearInterval(this.interval);
                        this.state = "initial";
                        this.time = 25 * 60;
                    },
                },
            };

            const ShortBreakTimer = {
                template: `
        <div>
          <p>{{ timerDisplay }}</p>
          <div v-if="state === 'initial'">
            <button @click="startShortBreak">Start</button>
          </div>
          <div v-if="state === 'running' || state === 'paused'">
            <button v-if="state === 'running'" @click="pauseCountdown">Pause</button>
            <button v-if="state === 'paused'" @click="continueCountdown">Continue</button>
            <button @click="stopCountdown">Stop</button>
          </div>
        </div>
      `,
                data() {
                    return {
                        time: 5 * 60,
                        state: "initial",
                        interval: null,
                    };
                },
                computed: {
                    timerDisplay() {
                        const minutes = Math.floor(this.time / 60);
                        const seconds = this.time % 60;
                        return `${minutes}m ${seconds}s`;
                    },
                },
                methods: {
                    startShortBreak() {
                        clearInterval(this.interval);
                        this.state = "running";
                        this.interval = setInterval(() => {
                            if (this.time <= 0) {
                                clearInterval(this.interval);
                                this.state = "initial";
                                alert("Time's up!");
                            } else {
                                this.time--;
                            }
                        }, 1000);
                    },
                    pauseCountdown() {
                        clearInterval(this.interval);
                        this.state = "paused";
                    },
                    continueCountdown() {
                        this.state = "running";
                        this.startShortBreak();
                    },
                    stopCountdown() {
                        clearInterval(this.interval);
                        this.state = "initial";
                        this.time = 5 * 60;
                    },
                },
            };

            const CustomTimer = {
                template: `
        <div>
          <p>{{ timerDisplay }}</p>
          <form @submit.prevent="startCustomCountdown">
            <input type="number" v-model.number="customTime.hours" min="0" placeholder="Hours" />
            <input type="number" v-model.number="customTime.minutes" min="0" max="59" placeholder="Minutes" />
            <input type="number" v-model.number="customTime.seconds" min="0" max="59" placeholder="Seconds" />
            <button type="submit">Start</button>
          </form>
          <div v-if="state === 'running' || state === 'paused'">
            <button v-if="state === 'running'" @click="pauseCountdown">Pause</button>
            <button v-if="state === 'paused'" @click="continueCountdown">Continue</button>
            <button @click="stopCountdown">Stop</button>
          </div>
        </div>
      `,
                data() {
                    return {
                        customTime: { hours: 0, minutes: 0, seconds: 0 },
                        time: 0,
                        state: "initial",
                        interval: null,
                    };
                },
                computed: {
                    timerDisplay() {
                        const hours = Math.floor(this.time / 3600);
                        const minutes = Math.floor((this.time % 3600) / 60);
                        const seconds = this.time % 60;
                        return `${hours}h ${minutes}m ${seconds}s`;
                    },
                },
                methods: {
                    startCustomCountdown() {
                        clearInterval(this.interval);
                        this.time =
                            this.customTime.hours * 3600 +
                            this.customTime.minutes * 60 +
                            this.customTime.seconds;
                        this.state = "running";
                        this.interval = setInterval(() => {
                            if (this.time <= 0) {
                                clearInterval(this.interval);
                                this.state = "initial";
                                alert("Time's up!");
                            } else {
                                this.time--;
                            }
                        }, 1000);
                    },
                    pauseCountdown() {
                        clearInterval(this.interval);
                        this.state = "paused";
                    },
                    continueCountdown() {
                        this.state = "running";
                        this.startCustomCountdown();
                    },
                    stopCountdown() {
                        clearInterval(this.interval);
                        this.state = "initial";
                        this.time = 0;
                    },
                },
            };

            Vue.createApp({
                data() {
                    return {
                        activeTab: "pomodoro",
                    };
                },
                computed: {
                    currentComponent() {
                        return this.activeTab === "pomodoro"
                            ? PomodoroTimer
                            : this.activeTab === "shortBreak"
                            ? ShortBreakTimer
                            : CustomTimer;
                    },
                },
            }).mount("#app");
        </script>
    </body>
</html>
